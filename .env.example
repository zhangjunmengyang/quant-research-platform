# =============================================================================
# QuantResearchMCP 环境配置
# =============================================================================
# 复制此文件为 .env 并修改配置
# cp .env.example .env
#
# 必填项标记为 [必填]，可选项标记为 [可选]
# =============================================================================

# =============================================================================
# [必填] 数据路径配置
# =============================================================================
# 预处理数据路径（币安现货/合约1小时K线数据）
# 下载地址: https://www.quantclass.cn/data/coin/coin-binance-spot-swap-preprocess-pkl-1h
# 示例: /Users/xxx/Downloads/coin-binance-spot-swap-preprocess-pkl-1h
PRE_DATA_PATH=/path/to/coin-binance-spot-swap-preprocess-pkl-1h
COIN_CAP_PATH=/path/to/coin-cap

# =============================================================================
# [必填] LLM API 配置
# =============================================================================
# API Base URL (支持 OpenAI 兼容格式)
# 注意: 只需填写 base URL，不要包含 /chat/completions
# LangChain 会自动追加完整路径
LLM_API_URL=https://api.openai.com/v1

# API 密钥
LLM_API_KEY=sk-your-api-key-here

# 模型配置见 config/llm_models.yaml

# =============================================================================
# [可选] OpenAI API（用于向量嵌入搜索）
# =============================================================================
# 如果不使用向量搜索功能，可以留空
OPENAI_API_KEY=

# =============================================================================
# [可选] 数据库配置（Docker 环境自动配置，本地开发可覆盖）
# =============================================================================
# 数据库密码
DB_PASSWORD=quant123

# 完整数据库连接 URL
# Docker 环境: postgresql://quant:quant123@postgres:5432/quant
# 本地开发: postgresql://quant:quant123@localhost:5432/quant
DATABASE_URL=postgresql://quant:${DB_PASSWORD}@localhost:5432/quant

# Redis 连接 URL
# Docker 环境: redis://redis:6379
# 本地开发: redis://localhost:6379
REDIS_URL=redis://localhost:6379

# =============================================================================
# [可选] HuggingFace 配置（Research Hub 嵌入模型下载）
# =============================================================================
# HuggingFace 镜像（国内用户推荐使用镜像加速下载）
HF_ENDPOINT=https://hf-mirror.com

# =============================================================================
# [可选] 日志配置
# =============================================================================
# 日志级别: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# 日志格式: json（生产环境）或 console（开发环境）
LOG_FORMAT=console

# =============================================================================
# [可选] 回测配置
# =============================================================================
# 回测引擎内部并行度（ProcessPoolExecutor workers，根据 CPU 核心数调整）
JOB_NUM=2

# 内存优化：一次处理的因子列数（16GB 内存建议 64）
FACTOR_COL_LIMIT=64
